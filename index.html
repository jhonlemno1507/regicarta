<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Carta para Regina - ¡Feliz 15!</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Georgia', serif;
            background: linear-gradient(45deg, #ff99cc, #ff66b2, #ff99cc);
            background-size: 200% 200%;
            animation: gradientAnimation 10s ease infinite;
            min-height: 100vh;
            color: #fff;
            overflow-y: auto;
            position: relative;
            padding-bottom: 150px;
            -webkit-user-select: none;
            user-select: none;
        }
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .heart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 200;
        }
        .heart-btn {
            width: 150px;
            height: 150px;
            position: relative;
            cursor: pointer;
            animation: heartbeat 1.5s infinite;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .heart-btn svg {
            width: 100%;
            height: 100%;
            fill: #ff4444;
        }
        .heart-text {
            position: absolute;
            color: #fff;
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 0 5px #000;
            z-index: 202;
            pointer-events: none;
            line-height: 1.2;
        }
        @keyframes heartbeat {
            0% { transform: scale(1); }
            20% { transform: scale(1.2); }
            40% { transform: scale(1); }
            60% { transform: scale(1.1); }
            80% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        .container {
            padding: 30px;
            max-width: 90%;
            margin: 30px auto;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
            text-align: center;
            position: relative;
            z-index: 10;
            display: none;
        }
        h1 {
            font-size: 3rem;
            text-shadow: 0 0 15px #ff99cc, 0 0 30px #ff66b2;
            opacity: 0;
            margin: 30px 0;
            position: relative;
            display: inline-block;
            animation: typing 2s steps(40, end) forwards, blink 0.75s step-end infinite;
            white-space: nowrap;
            overflow: hidden;
            border-right: 3px solid #fff;
        }
        @keyframes typing {
            from { width: 0; opacity: 1; }
            to { width: 100%; opacity: 1; }
        }
        @keyframes blink {
            from, to { border-color: transparent; }
            50% { border-color: #fff; }
        }
        h1::after {
            content: '✨';
            position: absolute;
            font-size: 2rem;
            top: -10px;
            right: -40px;
            animation: sparkle 2s infinite;
        }
        @keyframes sparkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        .message {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 20px;
        }
        p {
            font-size: 1.3rem;
            line-height: 1.8;
            background: rgba(255, 255, 255, 0.25);
            padding: 20px;
            border-radius: 10px;
            margin: 20px;
            opacity: 0;
            transform: translateX(-50px);
            transition: opacity 1.5s, transform 1.5s;
            flex: 1;
            min-width: 300px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        p.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .decoration {
            position: relative;
        }
        .decoration img {
            max-width: 80%;
            height: auto;
            border-radius: 10px;
            margin: 20px;
            opacity: 0;
            transform: translateX(50px);
            transition: opacity 1.5s, transform 1.5s;
            border: 5px solid #ff66b2;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.7);
        }
        .decoration img.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .decoration:last-of-type img {
            max-width: 90%;
        }
        .decoration::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 3px solid #ff99cc;
            border-radius: 15px;
            box-shadow: 0 0 15px #ff99cc, 0 0 30px #ff66b2;
            animation: glow 2s infinite;
            z-index: -1;
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 15px #ff99cc, 0 0 30px #ff66b2; }
            50% { box-shadow: 0 0 25px #ff99cc, 0 0 40px #ff66b2; }
        }
        .final-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 24px;
            font-size: 1.2rem;
            font-family: 'Dancing Script', cursive;
            background: #ff66b2;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 0 10px #ff66b2, 0 0 20px #ff66b2;
            color: #fff;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
            animation: buttonGlow 1.5s infinite;
        }
        button:hover {
            background: #ff99cc;
            transform: scale(1.1);
            box-shadow: 0 0 20px #ff99cc, 0 0 30px #ff99cc;
        }
        #giftBtn {
            animation: heartbeat 1.5s infinite;
            font-size: 1.4rem;
            padding: 15px 30px;
        }
        @keyframes buttonGlow {
            0%, 100% { box-shadow: 0 0 10px #ff66b2, 0 0 20px #ff66b2; }
            50% { box-shadow: 0 0 20px #ff66b2, 0 0 30px #ff66b2; }
        }
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }
        #confettiCanvas {
            z-index: 2;
        }
        #particlesCanvas {
            z-index: 0;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: #fff;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            max-width: 90%;
            text-align: center;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        .modal-content p {
            margin: 0 0 20px 0;
            font-size: 1.2rem;
            background: none;
            opacity: 1;
            transform: none;
            box-shadow: none;
            border: none;
        }
        .modal-content img {
            max-width: 90%;
            height: auto;
            border-radius: 10px;
            border: 5px solid #ff66b2;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.7);
        }
        .kiss-emoji {
            position: absolute;
            font-size: 2rem;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .kiss-emoji.active {
            opacity: 1;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            color: #ff66b2;
        }
        @media (max-width: 600px) {
            h1 { font-size: 2.2rem; }
            p { font-size: 1.1rem; }
            button { font-size: 1rem; padding: 10px 20px; }
            #giftBtn { font-size: 1.2rem; padding: 12px 24px; }
            .decoration img { max-width: 100%; float: none; margin: 20px auto; }
            .decoration:last-of-type img { max-width: 100%; }
            .message { flex-direction: column; }
            .modal-content { max-width: 95%; }
            .modal-content img { max-width: 100%; }
            .kiss-emoji { font-size: 1.5rem; }
            .heart-btn { width: 120px; height: 120px; }
            .heart-text { font-size: 0.9rem; }
        }
        @media (min-width: 601px) {
            .container { max-width: 800px; }
        }
    </style>
</head>
<body>
    <div class="heart-overlay" id="heartOverlay">
        <div class="heart-btn" id="heartBtn">
            <svg viewBox="0 0 24 24">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            <span class="heart-text">TOCA AQUÍ PARA LEER TU CARTA DE CUMPLEAÑOS</span>
        </div>
    </div>
    <canvas id="particlesCanvas"></canvas>
    <canvas id="confettiCanvas"></canvas>
    <div class="container" id="content">
        <h1 id="title">¡Feliz 15, Regina!</h1>
        <div id="message1" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1Orp9qjAK1KkgzC1sEMuyA5AaptH1dEK9" alt="">
            </div>
            <p>
                Quizás sea una manera extraña de escribir lo mucho que siento y lo cuanto que te quiero. Cuando tu mamá nos dijo que teníamos que escribirte una carta, para mí fue como una mentada de madre porque, ni sé escribir bien, ni puedo escribir con mi mano mocha, y me iba a llevar más tiempo del debido tratar de escribir una carta, porque juro que no le ibas a entender a mi magistral y hermosa letra. Sin embargo, por si no te acuerdas, yo soy programador y hay formas mucho más chidas en las que puedo hacer una carta y mandársela a alguien para que la lea, y no solo la lea, sino que la guardes y puedas tener el recuerdo de todo lo que te escribí.
            </p>
        </div>
        <div id="message2" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1OgJkPQKyxcRCUE2PoHJ_9DzYwX1Z16vM" alt="">
            </div>
            <p>
                Quizá cuando éramos niños no era alguien que precisamente demostrara lo cuanto te quería, y es porque realmente, cuando éramos chicos, en la vida me hacías, me caías chido y todo, pero bruh, eso qué, eras bien pinche pedinche, llorabas por todo, caón, pero aun así me caías chido. Fue realmente hasta que comencé a crecer que en verdad te fui conociendo, aunque niños, pero ya comenzaba a entender de lo mucho que podías pasar. Realmente fue hasta que pasó la pandemia y pasaron las cosas de Gisel que te fui viendo como una amiga, más que una prima random que nada más chillaba, como una amiga incomprendida con la que quizás me podría llevar muy bien.
            </p>
        </div>
        <div id="message3" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1he0MZYp3eHFv06DjnUxDsTDqHJBW3ujc" alt="">
            </div>
            <p>
                En su momento, cuando entraste en las redes sociales, yo fui el que le avisó a tu mamá que ya tenías Instagram porque, para mí, muchas de las cosas malas que he vivido y muchos de los momentos más difíciles de mi vida fueron gracias a ellas, y fue el hecho de que sentía mucho miedo por lo que pudieras pasar que le dije a tu mamá que ya andabas en las redes sociales haciendo desmadre (jajaja). Pero fue porque realmente te quiero mucho. La vida en las redes sociales es muy difícil y a lo que te puedes enfrentar, en verdad que no se lo deseo a nadie, ni mucho menos a ti.
            </p>
        </div>
        <div id="message4" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1lIlHo9mrsQBqzaDEWMCLWR5GQ7X_z3mx" alt="">
            </div>
            <p>
                Te vi crecer y desde que eras pequeña supe en lo que te podrías convertir, lo muy moldeable que eras y lo vulnerable que te podías volver. Vi crecer a muchas personas de distintas maneras que, en verdad, lo que en su momento solo quise fue procurar tu bienestar, que estuvieras bien. Eres una persona muy inteligente, ciertamente perversa, pero en verdad tienes capacidades que pueden ser demasiado grandes y por eso es necesario que aproveches todo lo que la vida ha puesto para ti. Cumples 15 años, a los 15 años muchas cosas pueden pasar, tu primer beso seguramente no, que ya los vi encima de mi moto, bola de cabrones, sin embargo, la vida te puede llevar por muchas cosas más que, en verdad, pueden ser o muy buenas o muy malas, y por eso quisiera que siempre que andes por ahí tengas demasiado cuidado, da pasos firmes en cada momento de la vida en el que sepas que lo que estás haciendo es lo correcto. Te quiero demasiado, eres alguien a quien siempre voy a procurar demasiado. Loco no estoy y te cuidaré en lo que la vida me permita cuidarte, te daré consejos para vivir y estar bien porque, lo sabes, siempre he estado en contra del sistema, he sido diferente y he sido libre en muchos sentidos y quiero que tú lo seas también.
            </p>
        </div>
        <div id="message5" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1ZXLhgBZYeexmvfOlneo2vsVwX4HXrmF4" alt="">
            </div>
            <p>
                Hoy ya tienes novio, mañana quizás tengas esposo, vas a tener hijos y una familia que cuidar y procurar. Vas a ser mamá, esposa y no dejarás de ser mi primita pequeña. Todo lo que vayas a hacer con Henry (o como se llame el bastardo ese, broma, jajaja) hazlo con mucho respeto, cuidado y conciencia, pero sobre todo que sepas que hoy, mañana y siempre, para lo que necesites, yo voy a estar ahí para ti y contigo, para llevarte a dar una vuelta en la moto, porque te quiero, te amo y te respeto con todo mi ser, porque eres mi prima y porque sé que tienes un futuro muy grande que, si sabes tomar las medidas correctas, vas a poder aprovechar.
            </p>
        </div>
        <div id="message6" class="message">
            <div class="decoration">
                <img src="https://drive.google.com/thumbnail?id=1zSAA_iwJTrNW1C7FdjpFq80nWZ1YcRYx" alt="">
            </div>
            <p>
                Regina, te quiero, eres una gran niña y que llegues a be esa gran mujer.<br><br>
                Atentamente,<br>El Gomo
            </p>
        </div>
        <div class="final-buttons">
            <button id="confettiBtn">Ya leí todo</button>
            <button id="posdata1Btn">Posdata 1</button>
            <button id="posdata2Btn">Posdata 2</button>
            <button id="giftBtn" onclick="window.location.href='https://wa.me/qr/SEFCSYI55A5NE1'">PICA AQUÍ PARA RECLAMAR TU REGALO A TU PRIMO HERMOSO</button>
        </div>
    </div>

    <!-- Modal para Posdata 1 -->
    <div id="posdata1Modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('posdata1Modal')">×</span>
            <p>Qué chido fue arrastrarte con todo y piñata.</p>
        </div>
    </div>

    <!-- Modal para Posdata 2 -->
    <div id="posdata2Modal" class="modal">
        <div class="modal-content" style="position: relative;">
            <span class="close-btn" onclick="closeModal('posdata2Modal')">×</span>
            <p>Giii está demasiado linda, ¡aaaa, qué emoción! Algún día, algún día.</p>
            <img src="https://drive.google.com/thumbnail?id=1DcsbM9FDL1ZqsPXze6Dp-nUYBbfKgULS" alt="">
            <span class="kiss-emoji" id="kiss1">💋</span>
            <span class="kiss-emoji" id="kiss2">💋</span>
            <span class="kiss-emoji" id="kiss3">💋</span>
            <span class="kiss-emoji" id="kiss4">💋</span>
        </div>
    </div>

    <script>
        // Elementos del DOM
        const heartOverlay = document.getElementById('heartOverlay');
        const heartBtn = document.getElementById('heartBtn');
        const content = document.getElementById('content');
        const title = document.getElementById('title');
        const messages = [
            document.getElementById('message1'),
            document.getElementById('message2'),
            document.getElementById('message3'),
            document.getElementById('message4'),
            document.getElementById('message5'),
            document.getElementById('message6')
        ];
        const decorations = messages.map(msg => msg.querySelector('.decoration img'));
        const confettiBtn = document.getElementById('confettiBtn');
        const posdata1Btn = document.getElementById('posdata1Btn');
        const posdata2Btn = document.getElementById('posdata2Btn');
        const confettiCanvas = document.getElementById('confettiCanvas');
        const particlesCanvas = document.getElementById('particlesCanvas');
        const confettiCtx = confettiCanvas.getContext('2d');
        const particlesCtx = particlesCanvas.getContext('2d');

        // Configurar canvas
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;
        particlesCanvas.width = window.innerWidth;
        particlesCanvas.height = window.innerHeight;

        // Mostrar contenido al hacer clic o tocar el corazón
        function showContent(event) {
            event.preventDefault();
            console.log("Evento disparado: ", event.type);
            heartOverlay.style.display = 'none';
            content.style.display = 'block';
            setTimeout(checkVisibility, 100);
            window.scrollTo(0, 0);
            // Iniciar confeti constante
            createConfetti();
            animateConfetti();
        }

        heartBtn.addEventListener('click', showContent);
        heartBtn.addEventListener('touchstart', showContent);

        // Animación de scroll para mostrar elementos
        function checkVisibility() {
            const elements = [title, ...messages.map(msg => msg.querySelector('p')), ...decorations];
            elements.forEach(element => {
                const rect = element.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.8 && rect.bottom > 0) {
                    element.classList.add('visible');
                }
            });
        }

        window.addEventListener('scroll', checkVisibility);
        window.addEventListener('load', checkVisibility);

        // Partículas animadas (fondo mágico)
        const particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * particlesCanvas.width;
                this.y = Math.random() * particlesCanvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.brightness = Math.random() * 0.5 + 0.5;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > particlesCanvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > particlesCanvas.height) this.speedY *= -1;
                this.brightness += Math.random() * 0.1 - 0.05;
                if (this.brightness < 0.5) this.brightness = 0.5;
                if (this.brightness > 1) this.brightness = 1;
            }
            draw() {
                particlesCtx.fillStyle = `rgba(255, 255, 255, ${this.brightness})`;
                particlesCtx.beginPath();
                particlesCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                particlesCtx.fill();
            }
        }

        function createParticles() {
            for (let i = 0; i < 50; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            particlesCtx.clearRect(0, 0, particlesCanvas.width, particlesCanvas.height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(animateParticles);
        }

        createParticles();
        animateParticles();

        // Confeti constante
        const confetti = [];
        class Confetti {
            constructor() {
                this.x = Math.random() * confettiCanvas.width;
                this.y = -10;
                this.speed = Math.random() * 3 + 1;
                this.angle = Math.random() * 2 * Math.PI;
                this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                this.size = Math.random() * 5 + 3;
            }
            update() {
                this.y += this.speed;
                this.x += Math.sin(this.angle) * 1;
                this.angle += 0.05;
                if (this.y > confettiCanvas.height) {
                    this.y = -10;
                    this.x = Math.random() * confettiCanvas.width;
                }
            }
            draw() {
                confettiCtx.fillStyle = this.color;
                confettiCtx.beginPath();
                confettiCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                confettiCtx.fill();
            }
        }

        function createConfetti() {
            for (let i = 0; i < 30; i++) {
                confetti.push(new Confetti());
            }
        }

        function animateConfetti() {
            confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            confetti.forEach(c => {
                c.update();
                c.draw();
            });
            requestAnimationFrame(animateConfetti);
        }

        function handleButtonInteraction(event) {
            event.preventDefault();
            if (event.currentTarget.id === 'confettiBtn') {
                for (let i = 0; i < 20; i++) {
                    confetti.push(new Confetti());
                }
                console.log("Más confeti activado.");
            } else if (event.currentTarget.id === 'posdata1Btn') {
                document.getElementById('posdata1Modal').style.display = 'flex';
            } else if (event.currentTarget.id === 'posdata2Btn') {
                document.getElementById('posdata2Modal').style.display = 'flex';
                animateKisses();
            }
        }

        confettiBtn.addEventListener('click', handleButtonInteraction);
        confettiBtn.addEventListener('touchstart', handleButtonInteraction);
        posdata1Btn.addEventListener('click', handleButtonInteraction);
        posdata1Btn.addEventListener('touchstart', handleButtonInteraction);
        posdata2Btn.addEventListener('click', handleButtonInteraction);
        posdata2Btn.addEventListener('touchstart', handleButtonInteraction);

        // Animación de besos para Posdata 2
        const kissPositions = [
            { top: '10%', left: '20%' },
            { top: '80%', left: '30%' },
            { top: '20%', left: '70%' },
            { top: '70%', left: '60%' }
        ];
        let kissIndex = 0;

        function animateKisses() {
            const kisses = [document.getElementById('kiss1'), document.getElementById('kiss2'), document.getElementById('kiss3'), document.getElementById('kiss4')];
            kisses.forEach(kiss => kiss.classList.remove('active'));

            const currentKiss = kisses[kissIndex];
            currentKiss.style.top = kissPositions[kissIndex].top;
            currentKiss.style.left = kissPositions[kissIndex].left;
            currentKiss.classList.add('active');

            kissIndex = (kissIndex + 1) % kisses.length;
            setTimeout(animateKisses, 500);
        }

        // Función para cerrar modales
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            kissIndex = 0;
        }

        // Ajustar canvas si la ventana cambia de tamaño
        window.addEventListener('resize', () => {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
            particlesCanvas.width = window.innerWidth;
            particlesCanvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
